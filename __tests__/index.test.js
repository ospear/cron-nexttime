const nextCronTime = require('../index')
describe('nextCronTime', () => {
  test.each([
    // minute hour date month dow
    ['* * * * *', '2000/01/01 00:00:00', '2000/01/01 00:01:00'],
    ['0 * * * *', '2000/01/01 00:00:00', '2000/01/01 01:00:00'],
    ['1 * * * *', '2000/01/01 00:00:00', '2000/01/01 00:01:00'],
    ['* 1 * * *', '2000/01/01 00:00:00', '2000/01/01 01:00:00'],
    ['0 0 1 * *', '2000/01/01 00:00:00', '2000/02/01 00:00:00'],
    ['0 0 1 1 *', '2000/01/01 00:00:00', '2001/01/01 00:00:00'],
    ['0 0 1 1 *', '2000/12/31 23:59:59', '2001/01/01 00:00:00'],
    ['15 20 * * *', '2021/12/11 16:08:00', '2021/12/11 20:15:00'],
    ['0 8 * 1 *', '2021/12/11 16:08:00', '2022/1/1 08:00:00'],
    ['*/20 8-17 * * 2-6', '2021/12/11 16:08:00', '2021/12/13 08:00:00'],
    ['*/20 8-17 * * 2-6', '2021/12/13 16:08:00', '2021/12/13 16:20:00'],
  ])('nextCronTime(%s, %s) => %s', (format, date, want) => {
    expect(nextCronTime(format, new Date(date))).toEqual(new Date(want))
  })
})
